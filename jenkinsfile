pipeline {
    agent any 
        environment {
            AWS_ACCESS_KEY = credentials ('AWS_ACCESS_KEY')
            AWS_SECRETS_ACCESS_KEY = credentials ('AWS_SECRETS_ACCESS_KEY')
        }

        stages {
            stage ('Terraform init') {
                sh '''
                terraform init
                '''
            }

            stage ('Terraform plan') {
                sh '''
                terraform plan
                '''
            }

            stage ('Terraform apply') {
                sh '''
                terraform apply -auto-approve
                '''
            }

             
        }
    
}